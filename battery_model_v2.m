soc_data = [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0];
ocv_data = [3.0, 3.45, 3.68, 3.74, 3.77, 3.81, 3.87, 3.92, 4.00, 4.10, 4.2];
R0=0.05;
current_soc=0.8;
Vocv_start = interp1(soc_data, ocv_data, current_soc, 'pchip');
t=(0:100);
I=zeros(size(t));
I(11:61) = 50;
V_term=Vocv_start-I*R0;
subplot(2,1,1);
plot (t,I,'r-', 'Linewidth', 1.5);
grid on;
xlabel('Time(t)');
ylabel('Current(A)');
subplot(2,1,2);
plot (t, V_term,'r-', 'Linewidth', 1.5);
grid on;
xlabel('Time(t)');
ylabel('Terminal Voltage');
